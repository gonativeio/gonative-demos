<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>GoNative Advanced Navigation Demo</title>

    <style>
      hr {
        width: 75%;
        border-top: 2px solid rgba(0,0,0,.5) !important;
      }

      #message {
        padding: 20px 0px; 
        text-align: center;
      }

      pre {
        margin-bottom: 0px !important;
      }

      .btn-demo {
        text-align: center;
        width: 320px;
      }

      .btn-primary.btn-demo {         
        width: 5rem;
        margin-top: 15px;
      }

      .code-block {
        display: none;
        text-align: left;
        margin-left: 10px; 
        margin-right: 10px;
      }
    </style>

    <script>
      function setNavBarTitle() {
        var json = JSON.stringify({
          active: true,
          titles: [{
            title: 'Example Title #1',
            regex: 'https://gonativeio.github.io/gonative-demos/public/advanced-navigation-demo.html'
          },
          { title: 'Example Title #2',
            regex: 'https://gonativeio.github.io/gonative-demos/public/contact.html'
          },
          { title: 'Example Title #3',
            regex: 'https://gonativeio.github.io/gonative-demos/public/about.html'
          }]
        });
        window.location.href = 'gonative://navigationTitles/set?persist=true&data=' + encodeURIComponent(json);
      }

      function setCurrentPageTitle() {
        if (navigator.userAgent.indexOf('gonative') > -1) {
          window.location.href = 'gonative://navigationTitles/setCurrent?title=Hello%20World';
        }
      }

      function revertNavTitleDefinition(tabIndex) {
        if (navigator.userAgent.indexOf('gonative') > -1) {
          window.location.href = 'gonative://navigationTitles/set?persist=true';
        }
      }
    </script>
    
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <!-- highlight.js for code block syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/monokai-sublime.min.css" integrity="sha512-/l4iViNMhxR5MhSlak3Yw/L/7qUBifVy7MpLjeJTc8BPMRFbGplGN0xqufCDwhSdxSnVgy+e/OYsNnU75K3yyQ==" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js" integrity="sha512-s+tOYYcC3Jybgr9mVsdAxsRYlGNq4mlAurOrfNuGMQ/SCofNPu92tjE7YRZCsdEtWL1yGkqk15fU/ark206YTg==" crossorigin="anonymous"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </head>

  <body>
    <div id="message">
      <button id='default-navtitle-btn' class="btn btn-secondary btn-demo">View Default Dynamic Title Configuration</button>
      <div id='default-navtitle-code' class="code-block">
        <pre>
          <code class='javascript'>[
  {
    "regex": "https://gonativeio.github.io/gonative-demos/public/advanced-navigation-demo.html",
    "title": "Home"
  },
  {
    "regex": "https://gonativeio.github.io/gonative-demos/public/contact.html",
    "title": "Contact Us"
  },
  {
    "regex": "https://gonativeio.github.io/gonative-demos/public/about.html",
    "title": "About"
  }
]</code>
        </pre>
      </div>
      <hr>
      <button id='navtitle-btn' class="btn btn-secondary btn-demo">Set Dynamic Navbar Title</button>
      <div id='navtitle-code' class="code-block">      
        <div class="text-center">
          <button class="btn btn-primary btn-demo" onclick="setNavBarTitle();">Execute</button>
        </div>
        <pre>
          <code class='javascript'>var json = JSON.stringify({
  active: true,
  titles: [{
    title: 'Example Title #1',
    regex: 'https://gonativeio.github.io/gonative-demos/public/advanced-navigation-demo.html'
  },
  { 
    title: 'Example Title #2',
    regex: 'https://gonativeio.github.io/gonative-demos/public/contact.html'
  },
  { 
    title: 'Example Title #3',
    regex: 'https://gonativeio.github.io/gonative-demos/public/about.html'
  }]
});
window.location.href = 'gonative://navigationTitles/set?persist=true&data=' + encodeURIComponent(json);</code>
        </pre>
      </div>
      <hr>
      <button id='current-title-btn' class="btn btn-secondary btn-demo">Set Current Page Title</button>
      <div id='current-title-code' class="code-block">
        <div class="text-center">
          <button class="btn btn-primary btn-demo" onclick="setCurrentPageTitle();">Execute</button>
        </div>
        <pre>
          <code class='javascript'>if (navigator.userAgent.indexOf('gonative') > -1) {
  window.location.href = 'gonative://navigationTitles/setCurrent?title=Hello%20World';
}</code>
        </pre>
      </div>      
      <hr>
      <button id='revert-navtitle-btn' class="btn btn-secondary btn-demo">Revert Dynamic Nav Titles to Default Definition</button>
      <div id='revert-navtitle-code' class="code-block">
        <div class="text-center">
          <button class="btn btn-primary btn-demo" onclick="revertNavTitleDefinition();">Execute</button>
        </div>
        <pre>
          <code class='javascript'>if (navigator.userAgent.indexOf('gonative') > -1) {
  window.location.href = 'gonative://navigationTitles/set?persist=true';
}</code>
        </pre>
      </div>
      <hr>
      <button id='default-icon-btn' class="btn btn-secondary btn-demo">View Default Custom Icon Configuration</button>
      <div id='default-icon-code' class="code-block">
        <pre>
          <code class='javascript'>"navigation": {
    "actionConfig": {
      "actionSelection": [{
        "id": "cartAction",
        "regex": ".*"
      }],
      "actions": [{
        "items": [{
          "url": "javascript:alert('shopping cart clicked');",
          "icon": "fa-shopping-cart",
          "label": "Shopping Cart"
        }],
        "id": "cartAction"
      }],
      "active": true
    }
}</code>
        </pre>
      </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
    <script>
      $(document).ready(function() {
        $('#default-navtitle-btn').click(function() {          
          $('#navtitle-code').hide();
          $('#default-icon-code').hide();
          $('#current-title-code').hide();
          $('#revert-navtitle-code').hide();

          if($('#default-navtitle-code').css('display') == 'none') 
            $('#default-navtitle-code').show();
          else
            $('#default-navtitle-code').hide();
        });
        $('#navtitle-btn').click(function() {          
          $('#default-navtitle-code').hide();
          $('#default-icon-code').hide();
          $('#current-title-code').hide();
          $('#revert-navtitle-code').hide();

          if($('#navtitle-code').css('display') == 'none') 
            $('#navtitle-code').show();
          else
            $('#navtitle-code').hide();
        });
        $('#current-title-btn').click(function() {          
          $('#default-navtitle-code').hide();
          $('#navtitle-code').hide();
          $('#default-icon-code').hide();
          $('#revert-navtitle-code').hide();

          if($('#current-title-code').css('display') == 'none')
            $('#current-title-code').show();
          else
            $('#current-title-code').hide();
        });
        $('#revert-navtitle-btn').click(function() {          
          $('#default-navtitle-code').hide();
          $('#navtitle-code').hide();
          $('#default-icon-code').hide();
          $('#current-title-code').hide();

          if($('#revert-navtitle-code').css('display') == 'none')
            $('#revert-navtitle-code').show();
          else
            $('#revert-navtitle-code').hide();
        });
        $('#default-icon-btn').click(function() {          
          $('#navtitle-code').hide();
          $('#current-title-code').hide();
          $('#default-navtitle-code').hide();
          $('#revert-navtitle-code').hide();

          if($('#default-icon-code').css('display') == 'none')
            $('#default-icon-code').show();
          else
            $('#default-icon-code').hide();
        });

        $('.btn-primary.btn-demo').click(function() { // Execute button is clicked, so hide all code blocks         
          $('#default-navtitle-code').hide();
          $('#navtitle-code').hide();
          $('#default-icon-code').hide();
          $('#current-title-code').hide();
          $('#revert-navtitle-code').hide();
        });
      });
    </script>
  </body>
</html>
